<!doctype html>
<html lang="en">
  <head>
     <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>EverythingB2C</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  
    <link rel="stylesheet" href="./asset/style/wishlist.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  
  <!-- Bootstrap Icons (optional for icons) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Bootstrap CSS -->
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
 <!-- Bootstrap Bundle JS (includes Popper) -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</head>
  <body>
    


<script src="Header.js" defer></script>
 <link rel="stylesheet" href="./Header.css">
<div id="header-0"></div>
<!-- header area -->
 <link rel="stylesheet" href="./Header.css">
<div id="header-0"></div>

<!---------------------------------------------------------------------------------------------------->

<div id="wishlist-container"></div>
<script>
  const wishlistContainer = document.getElementById('wishlist-container');
  const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

  console.log("Wishlist items found:", wishlist.length);

  wishlist.forEach((item, index) => {
    const wrapper = document.createElement('div');
    wrapper.innerHTML = item.html;

    const card = wrapper.querySelector('.card, .product-detail-card');
    if (!card) {
      console.warn(`Skipped card at index ${index}, no valid .card found`);
      return;
    }

    console.log(`Rendering card #${index + 1}, ID: ${item.id}`);

    const checkbox = card.querySelector('.heart-checkbox');
    const label = checkbox?.nextElementSibling;

    if (checkbox && label) {
      checkbox.checked = true;
      label.textContent = '❤️';

      checkbox.addEventListener('change', function () {
        let updatedWishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
        updatedWishlist = updatedWishlist.filter(p => p.id !== item.id);
        localStorage.setItem('wishlist', JSON.stringify(updatedWishlist));
        card.remove();
      });
    }

    wishlistContainer.appendChild(card);
  });
</script>







<section class="AMM"> </section>

<!--- ------------------->
<script>
  const container = document.querySelector('.category-container');
  const nextBtn1 = document.querySelector('.mobile-next-btn');
  const prevBtn1 = document.querySelector('.mobile-prev-btn');

  nextBtn1.addEventListener('click', () => {
    container.scrollBy({ left: container.offsetWidth, behavior: 'smooth' });
  });

  prevBtn1.addEventListener('click', () => {
    container.scrollBy({ left: -container.offsetWidth, behavior: 'smooth' });
  });
</script>

<!---------------Total price card js-------------------->
<script>
  document.querySelectorAll('.card').forEach(card => {
    const qtyInput = card.querySelector('.quantity-input');
    const payButton = card.querySelector('.pay');

    // Get the base pay price (actual price user pays)
    const unitPay = parseInt(payButton.getAttribute('data-pay')) || 0;

    // Set initial PAY price based on the current quantity
    const initialQty = parseInt(qtyInput.value) || 1;
    payButton.textContent = `PAY ₹${unitPay * initialQty}`;

    // Add event listener to update on quantity change
    qtyInput.addEventListener('input', () => {
      const qty = parseInt(qtyInput.value) || 1;
      const total = unitPay * qty;
      payButton.textContent = `PAY ₹${total}`;
    });
  });
</script>


<!-- header area -->
    <div id="Footer-container0"></div>

  <script>
    // JavaScript to load the header
    fetch('Footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('Footer-container0').innerHTML = data;
      });
  </script>
 
  </body>
</html>